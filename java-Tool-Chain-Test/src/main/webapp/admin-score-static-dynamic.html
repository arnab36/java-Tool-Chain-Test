<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Cisco SOW Advisor - Results </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="" />
	<!-- css -->
	<link href="./static/css/bootstrap.min.css" rel="stylesheet" />
	<link href="./static/css/style.css" rel="stylesheet" />
	<link href="./static/css/custom-styles.css" rel="stylesheet" />
	<link href="./static/css/score.css" rel="stylesheet" />
		
	<!-- These are for class Tree -->
	<link href="./static/css/interactive_tree.css" rel="stylesheet" type="text/css" />	

	<link href="./static/css/responsive.css" rel="stylesheet" />
	
	
	 <!--This one is for Score Gauge-->
	<script src="./static/js/score_gauge/d3.v4.min.js"></script> 
	<!-- <script src="https://d3js.org/d3.v4.js"></script> -->
	<script type="text/javascript">
	var d3_v4 = d3;

	</script>
	<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script> -->
	<!-- These are for class Tree -->	
	<script src="./static/js/class_tree/d3.js"></script>  
	<script src="./static/js/class_tree/d3.layout.js"></script> 	
	
	<!-- These are for word cloud -->
	<script src="./static/js/word_cloud/d3_download.min.js"></script>
	<!-- Do not remove -->	
	<script src="./static/js/word_cloud/edit_cloud.js"></script>	
	<script src="./static/js/word_cloud/algebra-0.2.5.min.js"></script>	
	
	<script src="./static/js/jquery.min.js"></script>
	<script src="./static/js/bootstrap.min.js"></script>
	<script src="./static/js/jquery.slimscroll.min.js"></script>
	
</head>
<body class="score-pg">
<div id="wrapper">

	<div class="chat-icon">
		<a href="#" > Help <br> Chat </a>
	</div>
	
	<!-- start header -->
	<header>			
        <div class="navbar-static-top nav-innerpg">
			<div class="container-flued">
            	<div class="row row-clear-left-right">
					<div class="col-md-9">
						<div class="navbar-header">
							<a title="Home" class="brand" id="backAdminHome" href="#">
								<img src="./static/img/sow-advisor-logo.png" width="187" height="31" alt="Cisco SOW Advisor Logo" />
							</a>
						</div>
					</div>
					<div class="col-md-3">               
						<div class="navbar-collapse collapse ">							
							<ul class="nav navbar-nav navbar-right">
								<li class="hidden-xs hidden-sm hidden-md"id="u_name_place"></li>
								<li class="dropdown">									
									<a class="dropdown-toggle"
									data-toggle="dropdown"
									href="#">
										<b class="caret"></b>
									</a>
									<ul class="dropdown-menu top-menu">		
										<li><a href='#' id="user_id_place"></a></li> 	
										<li> <a href="#" onClick="window.open('./static/help.html', '_blank')"> Help </a> </li> 
										<li> <a href="#" id="logout"> Log out</a> </li> 								
									</ul>
								</li>
							</ul>					
						</div>
					</div>
            	</div>
			</div>
			<div class="container-flued">
				<hr class="nav-bottom-gradient"/>
			</div>
        </div>
	</header>
	<!-- end header -->

    <section class="">
		<div class="container-fluid">
			<div class="row clear-margin-bottom">
				<div class="col-xs-12 score-header-bg">
                    <div class="container">
                        <div class="row score-header">
                            <div class="col-md-6 border-column">
                                <label class="sow-file-name"> SOW Name : </label>
                                <span id="fileNameSpace"> </span>
                            </div>
							<div class="col-md-3 border-column">
								<div class="strategy-name">
                                	<label class="default-strategy-label"> Contract-Type : </label>	
									<span id="name_of_strategy"> </span>
								</div>
							</div>
							<div class="col-md-3 border-column">
								<div class="download-results">
									<label>  Download results</label>
									<span id="downloadFile"> </span>
								</div>                                 								
                            </div>							
                        </div>
                    </div>                    
				</div>
			</div>
		</div>
    </section>

    <section class="" id="staticDynamicView">
		<div class="container">
			<div class="row clear-margin-bottom">
				<div class="col-xs-12 score-static-dynamic-bg">
					<div class="row row-clear">
						<div class="col-md-12">
							<div class="breadcrumb-links">
								<ol class="breadcrumb" id="backToPrevPage">
									<li class="breadcrumb-item"><a href="#">Home</a></li>
									<li class="breadcrumb-item active"><a href="#">Summary</a></li>
								</ol>
							</div> 
						</div>
					</div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="score-content-bg score-static">                                
								<h3> <span> </span>Static Score </h3>
                                <div class="row">
                                    <div class="col-md-6 static-score-graph" id="staticScoreImage">
                                        <img src="./static/img/score-good.png" alt="" />                                    
                                    </div>
                                    <div class="col-md-6 static-score-text">
                                        <span class="static-score-count" id="staticScorePosition">  </span>
                                        <span class="static-score-label">  </span>
										<!-- <span class="general-score-btn" id="linkToGenScore"> <a href="#"> General Score </a></span>  --> 
									</div>	
								</div>
								<div class="row">
									<div class="col-md-12">
										<div class="link-to-static-score" id="linkToGenScore">
											<p> Contract Not Compliant with standard template, view <a href="#" class="btn static-link"> General Score </a> </p>
										</div>
									</div>
								</div>  
								<div class="row">
                                    <div class="col-md-8  col-md-offset-2 tree-link-sec"> 
                                        <div class="static-class-tree">Static Class Tree </div>
                                        <div class="view" id="staticView"> <a href="#"> View </a> </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="score-content-bg score-dynamic">
							<h3> <span> </span>Dynamic Score </h3>  
							<span id="dynamicShow" class="btn alert-popup" data-toggle="modal" data-target="#scoreAlert"> </span> 							
                            <div class="row">
                                    <div class="col-md-5 static-score-graph color-wheeler" id="div1" style="margin-left: 43px;  margin-top: -38px; padding: 0px 0px;">
                                       <!-- <img src="./static/img/score-good.png" alt="" />         -->                            
                                    </div>
                                    <div class="col-md-6 static-score-text">
                                        <span class="static-score-count" id="dynamicScorePlace"> </span>
                                        <span class="static-score-label">  </span>
                                        
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8  col-md-offset-2 tree-link-sec"> 
                                        <div class="static-class-tree">Dynamic Class Tree </div>
                                        <div class="view" id="dynamicView"> <a href="#"> View </a> </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                             
				</div>
			</div>
		</div>
    </section>

	<section class="" id="treeView">
		<div class="container">
			<div class="row clear-margin-bottom">
				<div class="col-md-12 score-bg-top-sec">
					<ul>
						<li class="static-score">
							<h3 title="Summary page"> Static Score </h3>
							<span class="score-icon-tick" > </span>							
							<!--<span class="top-sec-score" id="staticScoreTopPosition"> </span>-->
							<span title="Static Class Tree" class="static-icon"> </span>
						</li>
						<li class="dynamic-score" id="dynamicScorePosition">
							<h3 title="Summary page"> Dynamic Score </h3>
							<!--<span class="score-icon-cross"> </span>-->
							<span class="top-sec-score" id="dynamicScoreTopPosition"> </span>
							<span title="Dynamic Class Tree" class="dynamic-icon"> </span>
						</li>
					</ul>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 score-tree-bg" id="dynamicClassTreeContent">
					<span class="dynamic"> </span>
					<h3> Dynamic Class Tree </h3>
					<div id="dynamicClassTree" style="position:relative;">
						<div id="dynamicClassContentPopup" style="position:absolute; right:30px; width:350px; height:400px; border:1px solid #333; overflow-y: scroll; padding: 10px; display:None" >							
						</div>
					</div>

				</div>

				<div class="col-md-12 score-tree-bg" id="staticClassTreeContent">
					<span class="dynamic"> </span>
					<h3> Static Class Tree </h3>
					<div id="staticClassTree" style="position:relative;">
						<div id="staticClassContentPopup" style="position:absolute; right:30px; width:350px; height:400px; border:1px solid #333; overflow-y: scroll; padding: 10px; display:None" >							
						</div>
					</div>

				</div>
			</div>
			
			<!-- Div is added for Conversation -->
			<div class="w3-row-padding" id="chat" style="display:none;">
				<div class="w3-container">
					<header class="chat-header">								
						<p> Help Chat</p>								
					</header>
					<hr class="chat-bottom-gradient" />

					<div id="messageList" style="height:350px;overflow-y:scroll;">
					<ul id="list"></ul>
					</div>

					<footer class="">
						<textarea maxlength="140" class="" type="text" id="messageText" name="messageText" autofocus/>
						</textarea>
						<div class="" id="sendMessage">
							<i class="send-icon"> </i>
						</div>
					</footer>
				</div>					
			</div>				
			<!-- Conversation div end here  -->		
			
		</div>
	</section>
	
</div>

	<!-- Modal alert-popup -->
		<div id="scoreAlert" class="modal fade" data-backdrop="static" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h2 class="modal-title" id="" > Alerts</h2>
					</div>
					<div class="modal-body">
						<ul id="dynamicUL">
							</ul>								
					</div>
				</div>
			</div>
		</div>
	<!-- Modal alert-popup END::: -->
	

<footer class="footer">
	<div class="container-flued">
		<div class="row">
			<div class="col-md-9 footer-logo">
				<img src="./static/img/Cisco_logo_blue.png" alt="cisco logo" />
			</div>
			<!--<div class="col-md-6">
			</div>-->
			<div class="col-md-3">
                <div class="powered-by">
				<span> Powered by</span>
				<img src="./static/img/watson_logo_1.png" alt="ibm watson" />
                </div>
			</div>
		</div>
	</div>
</footer>
<!-- Placed at the end of the document so the pages load faster -->

<script src="./static/js/custom.js"></script>	

<script type="text/javascript">	

	var KPIClassesBool = {};	
	var userid,userName,fileName,logInformation,priceClass, contractType;
	var infoSecurity,configJson,keyForClassTree;
	
	// Temporary variable
	var strategyCost = "12000";
	
	// This is for tick/cross
	var staticThreshold = 90;
	
	// This is for Showing stativ texts
	var staticGreenThreshold = 0.9;
	var staticRedThreshold = 0;
	
	// For general score
	var strategyThreshold = parseFloat(sessionStorage.getItem("threshold"));
	strategyThreshold = 0.7; // Temporary. Has to be moved to the backend.
	var redThreshold = 0.5;
	
	var strategyName;	
	var user_strategy_data;
	
	// If the following varaible is true then both the classes will show
	var redAllowed = true;
	
	// Required for score calculation
	var KPIClassesConfidence = {};
	
	// Required for class Tree
	var classesContent = {};	
	var KPIList = [];
	var jsonHelpData = {};
	var classHierarchy = {};
	var configJson = {};
	var list1 = [];
	var firstLevelClassCategory = [];	
	var contentText = {};	
	var staticKPIList = [];
	var staticClassesContent = {};	
	var treeFlag = null;
	
	// Not required.
	var categoryToInclude = [];
	var allowedClasses = {};
	
	// Global
	var userJsonData = [];
	var SOW_SCORE = 0;
	
	// Values to be assign
	var dynamicHelpData = {};
	var staticHelpData  ={};
	
	checkCookie(1);	
		
	$(function(){
    	$('#staticClassContentPopup').slimScroll();
		$('#dynamicClassContentPopup').slimScroll();
    });
	contractType = sessionStorage.getItem("contractType");
		
	var staticHierarchy = JSON.parse(sessionStorage.getItem("staticHierarchy"));
	var staticResult = JSON.parse(sessionStorage.getItem("staticResult"));
	var staticScore = Math.round(parseFloat(sessionStorage.getItem("staticScore")));
	var staticHelpClasses = JSON.parse(sessionStorage.getItem("staticHelpClasses"));
	var missingStatic = JSON.parse(sessionStorage.getItem("missingStatic"));
	
	var generalResult = JSON.parse(sessionStorage.getItem("generalResult"));
	var generalHierarchy = JSON.parse(sessionStorage.getItem("generalHierarchy"));	
	var generalHelpClasses = JSON.parse(sessionStorage.getItem("generalHelpClasses"));	
	var docClassificationResult = JSON.parse(sessionStorage.getItem("generalResult"));

	var dynamicAlert = JSON.parse(sessionStorage.getItem("dynamicAlert"));	
	var dynamicResult = JSON.parse(sessionStorage.getItem("dynamicResult"));
	var dynamicHierarchy = JSON.parse(sessionStorage.getItem("dynamicHierarchy"));
	var dynamicHelpClasses = JSON.parse(sessionStorage.getItem("dynamicHelpClasses"));
	var dynamicPopUpContent = JSON.parse(sessionStorage.getItem("dynamicPopUpContent"));
	
	var selectedStrategyInfo = JSON.parse(sessionStorage.getItem("selectedStrategyInfo"));
		
	userId = localStorage.getItem("userId");
	userName = localStorage.getItem("userName");
	
	fileName = sessionStorage.getItem("fileName");
	strategyName = sessionStorage.getItem("strategyName");
	
	strategyInfo = JSON.parse(sessionStorage.getItem("selectedStrategyInfo"));
	allStrategyInfo = JSON.parse(sessionStorage.getItem("strategyInfo"));			
	
	var dynamicSCore = "0";
	var redMaxDynamic = "40";
	var yellowMaxDynamic = "80";
	
	var scoreCardFlag = false;
	
	if(contractType == "MS - FG" || contractType == "MP - FG") {
		$("#linkToGenScore").hide();
	}
	
	// The following are class-tree variables
	var first_level_class_color = [];
	var vis = null;	
	var tree = null;
	var diagonal = null;	
	var class_color = [];
	var dynamicRedFlag = "GREEN";	
	var w =  800,
	h =  700,
	duration = 500,
	root;	
					
</script>

<script src="./static/js/stdLibrary/alasql.min.js"></script>
<script src="./static/js/stdLibrary/xlsx.core.min.js"></script>
<script src="./static/js/set_up_variables.js"></script>
<script src="./static/js/script_for_score_card.js"></script>
<script src="./static/js/score_gauge/script_for_score_gauge.js"></script>
<script src="./static/js/class_tree/script_for_static_tree.js"></script>
<script src="./static/js/class_tree/script_for_class_tree.js"></script>  
<script src="./static/js/class_tree/script_for_dynamic_class_tree.js"></script>

<script src="./static/js/utility.js"></script>
<script src="./static/js/script_for_chat.js"></script> 
<script src="./static/js/script_for_download_result.js"></script> 
<script src="./static/js/script_for_score_static_dynamic.js"></script>
</body>

</html>



